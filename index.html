<!-- Mother Day One-page (single file)
     BY TAWAN
     Created for: ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô (TAWAN)
-->
<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‡πÄ‡∏ß‡πá‡∏ö‡∏ß‡∏±‡∏ô‡πÅ‡∏°‡πà‡∏≠‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£ BY TAWAN</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Sarabun&display=swap');
  body, html {
    margin: 0; padding: 0; height: 100%; overflow: hidden;
    background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
    font-family: 'Sarabun', sans-serif;
    color: #004080;
    user-select: none;
  }
  #game-container {
    position: relative;
    width: 100vw; height: 100vh;
    overflow: hidden;
  }
  canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: block;
  }
  #score {
    position: absolute;
    top: 15px; left: 50%; transform: translateX(-50%);
    font-size: 24px; font-weight: 700;
    text-shadow: 1px 1px 3px #a1c4fd;
    z-index: 10;
  }
  #message {
    position: absolute;
    bottom: 20px; left: 50%; transform: translateX(-50%);
    font-size: 20px; background: rgba(255 255 255 / 0.7);
    padding: 10px 20px; border-radius: 15px;
    box-shadow: 0 0 10px rgba(0,0,0,0.15);
    user-select: text;
    max-width: 90vw;
    text-align: center;
    display: none;
    z-index: 10;
  }
</style>
</head>
<body>

<div id="game-container">
  <div id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div>
  <div id="message"></div>
  <canvas id="particles"></canvas>
  <canvas id="game"></canvas>
</div>

<script>
  // ======= PARTICLE EFFECT: ‡∏ù‡∏ô‡∏î‡∏≤‡∏ß‡∏ï‡∏Å‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ ‡∏•‡∏≠‡∏¢‡∏ï‡∏≤‡∏°‡∏ô‡∏¥‡πâ‡∏ß =======
  const particleCanvas = document.getElementById('particles');
  const pCtx = particleCanvas.getContext('2d');
  let pWidth, pHeight;

  class Particle {
    constructor(x, y, radius, speedY) {
      this.x = x;
      this.y = y;
      this.radius = radius;
      this.speedY = speedY;
      this.alpha = Math.random() * 0.5 + 0.3;
    }
    update() {
      this.y += this.speedY;
      if (this.y - this.radius > pHeight) {
        this.y = -this.radius;
        this.x = Math.random() * pWidth;
      }
      if (this.alpha < 0.1 || this.alpha > 0.8) {
        this.alphaDirection = !this.alphaDirection;
      }
      this.alpha += (this.alphaDirection ? 0.005 : -0.005);
      if (this.alpha > 0.8) this.alphaDirection = false;
      if (this.alpha < 0.1) this.alphaDirection = true;
    }
    draw(ctx) {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
      ctx.shadowColor = 'rgba(255,255,255,0.7)';
      ctx.shadowBlur = 6;
      ctx.fill();
    }
  }

  let particles = [];
  function initParticles() {
    pWidth = particleCanvas.width = window.innerWidth;
    pHeight = particleCanvas.height = window.innerHeight;
    particles = [];
    for (let i = 0; i < 100; i++) {
      particles.push(new Particle(Math.random() * pWidth, Math.random() * pHeight, Math.random() * 2 + 1, Math.random() * 1 + 0.3));
    }
  }

  function animateParticles() {
    pCtx.clearRect(0, 0, pWidth, pHeight);
    particles.forEach(p => {
      p.update();
      p.draw(pCtx);
    });
    requestAnimationFrame(animateParticles);
  }

  window.addEventListener('resize', () => {
    initParticles();
  });

  initParticles();
  animateParticles();

  // ======= GAME: ‡∏à‡∏±‡∏ö‡∏î‡∏≠‡∏Å‡∏°‡∏∞‡∏•‡∏¥ =======
  const gameCanvas = document.getElementById('game');
  const gCtx = gameCanvas.getContext('2d');
  let gWidth, gHeight;
  let score = 0;
  let flowers = [];
  let maxFlowers = 8;
  let flowerImg = new Image();
  flowerImg.src = 'https://i.imgur.com/d2yqk6A.png'; // ‡∏î‡∏≠‡∏Å‡∏°‡∏∞‡∏•‡∏¥ PNG ‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™

  class Flower {
    constructor() {
      this.radius = 30 + Math.random() * 10;
      this.x = Math.random() * (gWidth - this.radius * 2) + this.radius;
      this.y = gHeight + this.radius + Math.random() * 300;
      this.speedY = 1 + Math.random() * 2;
      this.caught = false;
    }
    update() {
      this.y -= this.speedY;
      if (this.y + this.radius < 0) {
        this.reset();
      }
    }
    reset() {
      this.radius = 30 + Math.random() * 10;
      this.x = Math.random() * (gWidth - this.radius * 2) + this.radius;
      this.y = gHeight + this.radius + Math.random() * 300;
      this.speedY = 1 + Math.random() * 2;
      this.caught = false;
    }
    draw(ctx) {
      if (!this.caught) {
        ctx.drawImage(flowerImg, this.x - this.radius, this.y - this.radius, this.radius*2, this.radius*2);
      }
    }
    isPointInside(px, py) {
      let dx = px - this.x;
      let dy = py - this.y;
      return dx * dx + dy * dy <= this.radius * this.radius;
    }
  }

  function initGame() {
    gWidth = gameCanvas.width = window.innerWidth;
    gHeight = gameCanvas.height = window.innerHeight;
    flowers = [];
    score = 0;
    for (let i = 0; i < maxFlowers; i++) {
      flowers.push(new Flower());
    }
    document.getElementById('score').textContent = '‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0';
    document.getElementById('message').style.display = 'none';
  }

  function gameLoop() {
    gCtx.clearRect(0, 0, gWidth, gHeight);
    flowers.forEach(flower => {
      flower.update();
      flower.draw(gCtx);
    });
    requestAnimationFrame(gameLoop);
  }

  function handleTouch(event) {
    let touches = event.touches;
    for (let i = 0; i < touches.length; i++) {
      let touch = touches[i];
      let rect = gameCanvas.getBoundingClientRect();
      let x = touch.clientX - rect.left;
      let y = touch.clientY - rect.top;
      flowers.forEach(flower => {
        if (!flower.caught && flower.isPointInside(x, y)) {
          flower.caught = true;
          score++;
          document.getElementById('score').textContent = '‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ' + score;
          if(score === maxFlowers) {
            document.getElementById('message').textContent = '‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡πÅ‡∏°‡πà‡∏à‡∏∞‡∏£‡∏±‡∏Å‡∏´‡∏ô‡∏π‡∏°‡∏≤‡∏Å ‡πÜ üíô';
            document.getElementById('message').style.display = 'block';
            setTimeout(() => {
              initGame();
            }, 5000);
          }
        }
      });
    }
  }

  function handleClick(event) {
    let rect = gameCanvas.getBoundingClientRect();
    let x = event.clientX - rect.left;
    let y = event.clientY - rect.top;
    flowers.forEach(flower => {
      if (!flower.caught && flower.isPointInside(x, y)) {
        flower.caught = true;
        score++;
        document.getElementById('score').textContent = '‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ' + score;
        if(score === maxFlowers) {
          document.getElementById('message').textContent = '‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡πÅ‡∏°‡πà‡∏à‡∏∞‡∏£‡∏±‡∏Å‡∏´‡∏ô‡∏π‡∏°‡∏≤‡∏Å ‡πÜ üíô';
          document.getElementById('message').style.display = 'block';
          setTimeout(() => {
            initGame();
          }, 5000);
        }
      }
    });
  }

  window.addEventListener('resize', () => {
    initParticles();
    initGame();
  });

  gameCanvas.addEventListener('touchstart', handleTouch, { passive: true });
  gameCanvas.addEventListener('mousedown', handleClick);

  flowerImg.onload = () => {
    initGame();
    gameLoop();
  };
</script>

</body>
</html>
